# API Documentation

## Base URL
```
http://localhost:8000
```

## Health Check Endpoints

### GET /health/
Check if the service is running

**Response:**
```json
{
  "status": "healthy",
  "service": "RAG Tutoring Chatbot",
  "version": "1.0.0"
}
```

### GET /health/config
View current configuration

**Response:**
```json
{
  "pinecone_index": "tut-rag-documents",
  "embedding_model": "text-embedding-3-small",
  "llm_model": "gpt-4",
  "chunk_size": 1000
}
```

## Educator Endpoints

### POST /educator/upload
Upload a document for processing

**Request:**
- Content-Type: `multipart/form-data`
- Body: File upload (PDF, TXT, or DOCX)

**Response:**
```json
{
  "message": "File uploaded successfully",
  "filename": "lecture_01.pdf",
  "path": "/path/to/file"
}
```

### GET /educator/documents
List all uploaded documents

**Response:**
```json
{
  "documents": ["lecture_01.pdf", "notes.txt"],
  "count": 2
}
```

### DELETE /educator/documents/{filename}
Delete an uploaded document

**Response:**
```json
{
  "message": "Deleted lecture_01.pdf"
}
```

## Student Endpoints

### POST /student/chat
Chat with the AI based on selected documents

**Request Body:**
```json
{
  "question": "What is photosynthesis?",
  "document_ids": ["doc_20251031_abc123", "doc_20251031_def456"],
  "chat_history": [
    {"role": "user", "content": "Previous question"},
    {"role": "assistant", "content": "Previous answer"}
  ]
}
```

**Response:**
```json
{
  "answer": "Photosynthesis is the process by which...",
  "document_ids_used": ["doc_20251031_abc123", "doc_20251031_def456"]
}
```

### POST /student/summary
Generate a summary of selected documents

**Request Body:**
```json
{
  "document_ids": ["doc_20251031_abc123"]
}
```

**Response:**
```json
{
  "summary": "Key concepts from the selected materials:\n- ...",
  "document_ids_used": ["doc_20251031_abc123"]
}
```

### GET /student/documents
List all available documents for selection

**Response:**
```json
{
  "message": "Document listing endpoint ready",
  "documents": []
}
```

## Error Responses

All endpoints return standard HTTP status codes:
- `200`: Success
- `400`: Bad Request
- `404`: Not Found
- `500`: Internal Server Error

Error response format:
```json
{
  "detail": "Error message description"
}
```

## Interactive Documentation

Visit http://localhost:8000/docs for interactive Swagger UI documentation.

