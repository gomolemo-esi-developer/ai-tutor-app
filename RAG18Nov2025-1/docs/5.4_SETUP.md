# Setup Guide

## Prerequisites

- Python 3.9 or higher
- OpenAI API key
- Pinecone API key and environment

## Installation Steps

### 1. Run Setup Script

```bash
./setup.sh
```

This will:
- Install all Python dependencies
- Create `.env` file from template
- Create necessary data directories

### 2. Configure API Keys

Edit the `.env` file with your credentials:

```bash
OPENAI_API_KEY=sk-your_openai_key_here
PINECONE_API_KEY=your_pinecone_key_here
PINECONE_ENVIRONMENT=us-west1-gcp
PINECONE_INDEX_NAME=tut-rag-documents
```

To get your API keys:

**OpenAI:**
1. Go to https://platform.openai.com/api-keys
2. Create a new secret key
3. Copy and paste into `.env`

**Pinecone:**
1. Go to https://app.pinecone.io/
2. Create a new project (free tier available)
3. Get your API key from the dashboard
4. Note your environment (e.g., `us-west1-gcp`)

### 3. Verify Installation

Run the test suite to verify everything is working:

```bash
# Test 1: Document loading
python 3_tests/3.1_test_document_upload.py

# Test 2: Vectorization
python 3_tests/3.2_test_vectorization.py

# Test 3: Metadata filtering (CRITICAL)
python 3_tests/3.3_test_metadata_filter.py
```

### 4. Start the Server

```bash
uvicorn main:app --reload
```

The server will start at: http://localhost:8000

### 5. Access API Documentation

Open your browser and visit:
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

## Project Structure

```
/RAG
├── 0_data/              # Data storage (add test documents to /input)
├── 1_modules/           # Core modules (numbered for easy reference)
├── 2_api/               # FastAPI routes
├── 3_tests/             # Test scripts
├── 4_ui/                # HTML/JS interface (coming soon)
├── 5_docs/              # Documentation
├── main.py              # FastAPI entry point
├── config.py            # Configuration
└── requirements.txt     # Dependencies
```

## Quick Start Workflow

### For Educators

1. Place documents in `/0_data/input/`
2. Upload via API: `POST /educator/upload`
3. Documents are automatically vectorized and stored

### For Students

1. Select documents via API
2. Chat: `POST /student/chat`
3. Summarize: `POST /student/summary`

## Troubleshooting

### Import Errors

If you see import errors, make sure you're running commands from the project root:

```bash
cd "/path/to/RAG"
python 3_tests/3.1_test_document_upload.py
```

### Pinecone Connection Issues

- Verify your API key is correct
- Check your environment name matches your Pinecone dashboard
- Ensure the index name is consistent

### OpenAI API Errors

- Check your API key is valid
- Ensure you have credits available
- Verify the model name (gpt-4 or gpt-4-mini)

## Next Steps

After successful setup:
1. Run the critical metadata filter test (3.3)
2. Add sample documents to test
3. Test the chat endpoint
4. Explore the API documentation at /docs

